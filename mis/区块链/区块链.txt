-----------------------------------------------------------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------
Block 5624

Time:13576221
Nonce:453454354
Prevhash:d84l939s7md7cd39dd3
Transactions: <----------->
 

一个区块，每个区块包含，高度，一个时间戳、一个随机数、一个对上一个区块的引用（即哈希）和上一区块生成以来发生的所有交易列表。
这样随着时间流逝就创建出了一个持续增长的区块链，它不断地更新，从而能够代表比特币账本的最新状态。

-----------------------------------------------------------------------------------------------------------------------------------
区块验证
-----------------------------------------------------------------------------------------------------------------------------------
依照这个范式，检查一个区块是否有效的算法如下：

检查区块引用的上一个区块是否存在且有效。
检查区块的时间戳是否晚于以前的区块的时间戳，而且早于未来2小时[2]。
检查区块的工作量证明是否有效。
将上一个区块的最终状态赋于S[0]。
假设TX是区块的交易列表，包含n笔交易。对于属于0……n-1的所有i,进行状态转换S[i+1] = APPLY(S[i],TX[i])。如果任何一笔交易i在状态转换中出错，退出程序，返回错误。
返回正确，状态S[n]是这一区块的最终状态。（重新计算一遍）

区块验证算法的有趣部分是“工作量证明”概念：对每个区块进行SHA256哈希处理，将得到的哈希视为长度为256比特的数值，该数值必须小于不断动态调整的目标数值，本书写作时目标数值大约是2^190。工作量证明的目的是使区块的创建变得困难，从而阻止女巫攻击者恶意重新生成区块链。因为SHA256是完全不可预测的伪随机函数，创建有效区块的唯一方法就是简单地不断试错，不断地增加随机数的数值，查看新的哈希数值是否小于目标数值。如果当前的目标数值是2^192，就意味着平均需要尝试2^64次才能生成有效的区块。一般而言，比特币网络每隔2016个区块重新设定目标数值，保证平均每十分钟生成一个区块。为了对矿工的计算工作进行奖励，每一个成功生成区块的矿工有权在区块中包含一笔凭空发给他们自己25BTC的交易。另外，如果交易的输入大于输出，差额部分就作为“交易费用”付给矿工